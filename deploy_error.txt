
[1m[37m===[39m Deploying to 'schoolbook-290b6'...[22m

[36m[1mi [22m[39m deploying [1mfunctions[22m
Running command: npm --prefix "$RESOURCE_DIR" run lint

> lint
> eslint .


D:\SchoolBookExchange\functions\handlers\line-bot.js
  567:42  warning  'bookTitle' is assigned a value but never used        no-unused-vars
  567:53  warning  'agreedPrice' is assigned a value but never used      no-unused-vars
  567:66  warning  'meetingTime' is assigned a value but never used      no-unused-vars
  567:79  warning  'meetingLocation' is assigned a value but never used  no-unused-vars

D:\SchoolBookExchange\functions\handlers\review.js
  23:8  warning  'FieldValue' is assigned a value but never used  no-unused-vars

D:\SchoolBookExchange\functions\handlers\transaction.js
  20:8  warning  'FieldValue' is assigned a value but never used  no-unused-vars

D:\SchoolBookExchange\functions\index.js
  32:7  warning  'functions' is assigned a value but never used  no-unused-vars

D:\SchoolBookExchange\functions\test_invoice_notify.js
  5:7  warning  'serviceAccount' is assigned a value but never used  no-unused-vars

??8 problems (0 errors, 8 warnings)

[32m[1m+ [22m[39m [32m[1mfunctions:[22m[39m Finished running [1mpredeploy[22m script.
[36m[1mi  functions:[22m[39m preparing codebase [1mdefault[22m for deployment
[36m[1mi  functions:[22m[39m ensuring required API [1mcloudfunctions.googleapis.com[22m is enabled...
[36m[1mi  functions:[22m[39m ensuring required API [1mcloudbuild.googleapis.com[22m is enabled...
[36m[1mi  artifactregistry:[22m[39m ensuring required API [1martifactregistry.googleapis.com[22m is enabled...
[33m[1m! [22m[39m [1m[33mfunctions: [39m[22mpackage.json indicates an outdated version of firebase-functions. Please upgrade using [1mnpm install --save firebase-functions@latest[22m in your functions directory.
[33m[1m! [22m[39m [1m[33mfunctions: [39m[22mPlease note that there will be breaking changes when you upgrade.
[36m[1mi  functions:[22m[39m Loading and analyzing source code for codebase default to determine what to deploy
[36m[1mi  functions:[22m[39m You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly
Serving at port 8557

[dotenv@17.2.3] injecting env (4) from .env -- tip: ?? add secrets lifecycle management: https://dotenvx.com/ops

?? Functions loaded! GEMINI_API_KEY: Missing

[36m[1mi [22m[39m [36m[1mfunctions: [22m[39mLoaded environment variables from .env.
[36m[1mi  functions:[22m[39m preparing [1mfunctions[22m directory for uploading...
[36m[1mi [22m[39m [36m[1mfunctions:[22m[39m packaged [1mD:\SchoolBookExchange\functions[22m (139.38 KB) for uploading
[36m[1mi  functions:[22m[39m ensuring required API [1mcloudscheduler.googleapis.com[22m is enabled...
[32m[1m+  functions:[22m[39m [1mfunctions[22m source uploaded successfully
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mcheckSchoolEmail(us-central1)[22m...
[32m[1m+ [22m[39m [1m[32mfunctions[checkSchoolEmail(us-central1)][39m[22m Successful create operation.
[33m[1m!  functions:[22m[39m No cleanup policy detected for repositories in us-central1. This may result in a small monthly bill as container images accumulate over time.
[34m?[39m [1mHow many days do you want to keep container images before they're deleted?[22m [2m(1)[22m
